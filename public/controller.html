<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Controller</title>
	<script>
	// Check if browser supported
	var hasWebSocket = 'WebSocket' in window,
		hasMotionEvent = 'DeviceMotionEvent' in window;

	// Script to initialize connection
	function init(){
		var host = window.location.host,
			wsURL = "ws://" + host + "/ws",
			ws = new WebSocket(wsURL),
			lastVelocity = null;

		ws.onopen = function (e){
			console.log("Websocket open on: " + wsURL);
		}

		ws.onclose = function (e){
			console.log("WebSocket was closed");
		}

		ws.onmessage = function (e){
			console.log("Received message from server:\n" + e.data);
		}

		ws.onerror = function (e){
			console.log("Something went wrong with the connection");
		}

	}

	if (hasWebSocket){
		init();
	} else {
		console.log("Please use browser with motionEvent and websockets");
	}

	</script>
	<style></style>
</head>
<body>
<textarea id="content" name="" cols="30" rows="10"></textarea>
</body>
</html>
